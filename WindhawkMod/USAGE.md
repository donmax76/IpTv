# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WindhawkMod.dll

## ‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

DLL —Å–æ–∑–¥–∞–Ω–∞: `bin\x64\Release\WindhawkMod.dll`

## –°–ø–æ—Å–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Windhawk UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Windhawk** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
   - –°–∫–∞—á–∞–π—Ç–µ —Å https://windhawk.net/
   - –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `INSTALL_WINDHAWK.bat`

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥ –≤ Windhawk**:
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ Windhawk
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "My Mods" (–ú–æ–∏ –º–æ–¥—ã)
   - –ù–∞–∂–º–∏—Ç–µ "Create a new mod" (–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥)
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "Hide Microphone Icon"
   - –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ DLL: `D:\Android_Projects\TestApp\WindhawkMod\bin\x64\Release\WindhawkMod.dll`

3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –º–æ–¥**:
   - –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä—è–¥–æ–º —Å –º–æ–¥–æ–º
   - Windhawk –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç –º–æ–¥ –≤ explorer.exe

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É**:
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `HiddenAudioService.exe` –¥–ª—è –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ
   - –ò–∫–æ–Ω–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∫—Ä—ã—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `%TEMP%\WindhawkMod.log`

### –°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ DLL injection

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –±–µ–∑ Windhawk UI:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DLL injection –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ `WindhawkMod.dll` –≤ –ø—Ä–æ—Ü–µ—Å—Å `explorer.exe`
2. –ú–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è DLL injection:**
```cpp
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏–∑ MicBypassHook/InjectDll.ps1
// –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–ø–∏—Å—å –∞—É–¥–∏–æ
```batch
cd D:\Android_Projects\TestApp
dotnet run --project HiddenAudioService\HiddenAudioService.csproj
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç:
```batch
dotnet run --project AudioRecorder.csproj
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π
- –ò–∫–æ–Ω–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **—Å–∫—Ä—ã—Ç–∞**
- –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
```batch
type %TEMP%\WindhawkMod.log
```

–ò–ª–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ DebugView:
```batch
DebugView.exe /accepteula
```

## –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –º–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**:
   - `%TEMP%\WindhawkMod.log` - —Ñ–∞–π–ª –ª–æ–≥–æ–≤ –º–æ–¥–∞
   - `%TEMP%\AudioRecorder.log` - –ª–æ–≥–∏ –∞—É–¥–∏–æ —Å–µ—Ä–≤–∏—Å–∞

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω**:
   - –í Windhawk UI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω
   - –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ Process Explorer, —á—Ç–æ DLL –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ explorer.exe

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Windows**:
   - –ú–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Windows 10/11
   - –¢—Ä–µ–±—É–µ—Ç—Å—è x64 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ explorer.exe**:
   - –ò–Ω–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ explorer –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –í Windhawk –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "Restart Explorer"

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º

–ú–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å `HiddenAudioService.exe`:

1. **HiddenAudioService.exe** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞—É–¥–∏–æ (–∏–∫–æ–Ω–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è)
2. **WindhawkMod.dll** —Å–∫—Ä—ã–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –∑–∞–ø–∏—Å—å –∏–¥–µ—Ç, –Ω–æ –∏–∫–æ–Ω–∫–∞ –Ω–µ –≤–∏–¥–Ω–∞ –Ω–∏ –≤ —Ç—Ä–µ–µ, –Ω–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
WindhawkMod/
‚îú‚îÄ‚îÄ bin\x64\Release\
‚îÇ   ‚îî‚îÄ‚îÄ WindhawkMod.dll          ‚Üê –ì–æ—Ç–æ–≤–∞—è DLL –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ HideMicrophoneIcon.cpp       ‚Üê –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –º–æ–¥–∞
‚îú‚îÄ‚îÄ windhawk_utils.h/cpp         ‚Üê Windhawk API
‚îî‚îÄ‚îÄ README.md, USAGE.md          ‚Üê –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **Stub —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è stub —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Windhawk API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ Windhawk UI –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ Windhawk runtime.

- **–°–∏–º–≤–æ–ª—ã**: –î–ª—è –ø–æ–ª–Ω–æ–π —Ä–∞–±–æ—Ç—ã hooking –Ω—É–∂–Ω—ã —Å–∏–º–≤–æ–ª—ã –∏–∑ `Taskbar.View.dll`. –í stub –≤–µ—Ä—Å–∏–∏ hooking –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –≥–æ—Ç–æ–≤–∞.

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ú–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å x64 –≤–µ—Ä—Å–∏–µ–π explorer.exe.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
2. ‚úÖ –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
3. ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω
4. ‚è≠Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Windhawk (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. ‚è≠Ô∏è –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥ —á–µ—Ä–µ–∑ Windhawk UI
6. ‚è≠Ô∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É

–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ

